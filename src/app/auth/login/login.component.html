<div class="wrapper">
  <div class="content flex-column">
    <h2>{{ title | titlecase }}</h2>
    <form
      [formGroup]="loginForm"
      (ngSubmit)="formSubmit()"
      class="flex-column"
      [class.err_on_submit]="errorOnsubmit"
    >
      <label class="flex-column">
        <span>{{ 'login' }}</span>
        <input
          [ngClass]="{'invalid': loginForm.get('login').invalid && loginForm.get('login').touched}"
          type="text"
          autocomplete="off"
          class="input-text"
          name="login"
          formControlName="login"
        />
        <ng-container
          *ngIf="
            (login!.invalid && (login!.touched || login!.dirty)) ||
            errorOnsubmit
          "
        >
          <span class="red-text" *ngIf="login!.errors?.['required']"
            >Please enter a login email</span
          >
          <span class="red-text" *ngIf="login!.errors?.['pattern']"
            >The login email is invalid</span
          >
        </ng-container>
      </label>
      <label class="flex-column">
        <span>{{ 'password' }}</span>
        <input
          [ngClass]="{'invalid': loginForm.get('password').invalid && loginForm.get('password').touched}"
          type="password"
          autocomplete="off"
          class="input-text"
          name="password"
          formControlName="password"
          required
        />
        <ng-container
          *ngIf="
            (password!.invalid && (password!.touched || password!.dirty)) ||
            errorOnsubmit
          "
        >
          <span class="red-text" *ngIf="password!.errors?.['required']"
            >Please enter a password</span
          >
          <span class="red-text" *ngIf="password!.errors?.['minlength']"
            >Please enter a password at least 8 characters
          </span>
          <span class="red-text" *ngIf="password!.errors?.['haveUpperCaseAndLowerCase']"
            >Please enter a password a mixture of both uppercase and lowercase
            letters
          </span>
          <span class="red-text" *ngIf="password!.errors?.['hasNumber']"
            >Please enter a password a mixture of letters and numbers
          </span>
          <span class="red-text" *ngIf="password!.errors?.['specialCharacter']"
            >Please enter a password a least one special character
          </span>
        </ng-container>
      </label>
      <div class="wrap-btn">
        <button class="btn btn-back" [routerLink]="['/']" >Back</button>
        <button type="submit" class="btn" [disabled]="loginForm.invalid">Submit</button>
      </div>
    </form>
  </div>
</div>
