<div class="wrapper flex-column">
  <div class="content">
    <app-board-menu></app-board-menu>
    <div>
      <form
        action=""
        [formGroup]="boardNameForm"
        [class.err_on_submit]="errorOnsubmit"
        (ngSubmit)="onBlurMethod()"
      >
        <input
          type="text"
          name="title"
          formControlName="title"
          (blur)="onBlurMethod()"
        />
        <input type="submit" hidden />
        <button style="background-color: red; color: white" type="button" (click)="delBoardHandler()">Del</button>
      </form>
      <hr>
      <div class="column-grid">
        <ng-container *ngIf="(currentBoard$ | async) !== undefined">
          <ng-container
            *ngIf="
              (currentBoard$ | async)!.columns.length > 0;
              else emptyColumns
            "
          >
            <app-column
              *ngFor="
                let column of (currentBoard$ | async)?.columns;
                let indexOfColumn = index
              "
              [columnInfo]="column"
              [columnOrder]="indexOfColumn"
            ></app-column>
            <div class="add-wrapper">
              <button (click)="onAddColumn()"><mat-icon>add</mat-icon> add column</button>
            </div>
          </ng-container>
          <ng-template #emptyColumns>
            <div class="add-wrapper">
              <div>add your first column</div>
              <button (click)="onAddColumn()"><mat-icon>add</mat-icon> add column</button>
            </div>
          </ng-template>
        </ng-container>
      </div>
    </div>
  </div>
</div>
<app-footer></app-footer>
